<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHEM122 - Chapter 3 Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .quiz-option:hover { transform: translateX(4px); }
        .quiz-option { transition: all 0.2s; }
        .question-nav-btn { transition: all 0.2s; }
        .question-nav-btn:hover { transform: scale(1.05); }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-5xl">
        <!-- Header -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <div class="flex items-center gap-3 mb-2">
                <span class="text-4xl">üß™</span>
                <div>
                    <h1 class="text-3xl font-bold text-gray-800">CHEM122 - Chapter 3 Quiz</h1>
                    <p class="text-gray-600">Stoichiometry & Empirical Formulas</p>
                </div>
            </div>
        </div>

        <!-- Quiz Content -->
        <div id="quizContainer" class="bg-white rounded-xl shadow-lg p-8">
            <!-- Quiz will be rendered here -->
        </div>
    </div>

    <script>
        const quizData = {
            title: "CHEM122 - Chapter 3: Stoichiometry & Empirical Formulas",
            questions: [
                {
                    id: 1,
                    question: "A sample of Rubbing Alcohol was found to contain 60.0% carbon, and 13.4% hydrogen, and the remaining mass was due to oxygen. Calculate the empirical formula of Rubbing Alcohol.",
                    options: ["C5H13O2", "C5H13.4O1.67", "CHO", "C3H8O", "C3H8O2"],
                    correct: 3,
                    explanation: `To determine the empirical formula of rubbing alcohol, follow these steps:

Step 1: Assume 100 g of the compound
‚Ä¢ Carbon (C): 60.0% ‚áí 60.0 g
‚Ä¢ Hydrogen (H): 13.4% ‚áí 13.4 g
‚Ä¢ Oxygen (O): Remaining 100‚àí(60.0+13.4) = 26.6 g

Step 2: Convert mass to moles
Using the molar masses (C=12.01 g/mol, H=1.008 g/mol, O=16.00 g/mol)
‚Ä¢ Moles of C = 60.0/12.01 = 4.996 mol
‚Ä¢ Moles of H = 13.4/1.008 = 13.29 mol
‚Ä¢ Moles of O = 26.6/16.00 = 1.6625 mol

Step 3: Divide by the smallest number of moles
‚Ä¢ C: 4.996/1.6625 ‚âà 3.00
‚Ä¢ H: 13.29/1.6625 ‚âà 8.00
‚Ä¢ O: 1.6625/1.6625 = 1.00

Step 4: Write the empirical formula
The mole ratio is approximately 3:8:1, so the empirical formula is: C3H8O`
                },
                {
                    id: 2,
                    question: "What is the % by mass of carbon in C5H12?",
                    options: ["29.4%", "5%", "12%", "83.23%", "16.67%"],
                    correct: 3,
                    explanation: `Step 1: Determine the molar mass of C5H12
The molar masses are:
‚Ä¢ Carbon (C): 12.01 g/mol
‚Ä¢ Hydrogen (H): 1.008 g/mol

Molar mass of C5H12 = (5√ó12.01) + (12√ó1.008) = 60.05 + 12.096 = 72.146 g/mol

Step 2: Calculate the mass of carbon in C5H12
The total mass of carbon is: 5√ó12.01 = 60.05 g

Step 3: Calculate the percentage by mass of carbon
%C = (Mass of C / Molar mass of C5H12) √ó 100%
%C = (60.05/72.146) √ó 100 ‚âà 83.24%`
                },
                {
                    id: 3,
                    question: "If 216 g of C5H12 was used how many molecules of C5H12 were used?",
                    options: ["3", "6.02 √ó 10¬≤¬≥", "1.8 √ó 10¬≤‚Å¥", "216", "17 √ó 10¬≤¬≥"],
                    correct: 2,
                    explanation: `Step 1: Calculate the molar mass of C5H12
Molar mass = 72.146 g/mol

Step 2: Determine the number of moles of C5H12
Moles of C5H12 = Mass / Molar mass = 216 g / 72.146 g/mol ‚âà 2.994 mol

Step 3: Convert moles to molecules
Using Avogadro's number (6.022√ó10¬≤¬≥ molecules/mol)

Number of molecules = Moles √ó Avogadro's number
= 2.994 mol √ó 6.022√ó10¬≤¬≥ molecules/mol
‚âà 1.80√ó10¬≤‚Å¥ molecules`
                },
                {
                    id: 4,
                    question: "Aspirin has a formula C9H8O4, what is the molecular weight of aspirin?",
                    options: ["100", "108", "180", "29", "132"],
                    correct: 2,
                    explanation: `Step 1: Use the atomic masses
‚Ä¢ Carbon (C): 12.01 g/mol
‚Ä¢ Hydrogen (H): 1.008 g/mol
‚Ä¢ Oxygen (O): 16.00 g/mol

Step 2: Multiply by the number of each atom in the formula
Molecular weight = (9√ó12.01) + (8√ó1.008) + (4√ó16.00)
= 108.09 + 8.064 + 64.00
= 180.154 g/mol

Final Answer: The molecular weight of aspirin is approximately 180 g/mol.`
                },
                {
                    id: 5,
                    question: "How many grams of O2 are needed to react with 1 mole of pentane (C5H12), according to: C5H12(g) + O2(g) ‚Üí CO2(g) + H2O(g)",
                    options: ["32 g", "104 g", "192 g", "256 g", "128"],
                    correct: 3,
                    explanation: `Step 1: Balance the chemical equation
The combustion reaction for pentane is:
C5H12 + 8O2 ‚Üí 5CO2 + 6H2O

Step 2: Use stoichiometry
From the balanced equation:
‚Ä¢ 1 mole of C5H12 reacts with 8 moles of O2

The molar mass of O2 is: 2√ó16.00 = 32.00 g/mol

Mass of O2 needed:
Mass of O2 = 8 mol √ó 32.00 g/mol = 256.00 g`
                },
                {
                    id: 6,
                    question: "When the following reaction is balanced, SiCl4 + H2O ‚Üí H4SiO4 + HCl, the coefficients are:",
                    options: ["1, 4 ‚Üí 1, 4", "1, 2 ‚Üí 2, 4", "1, 1 ‚Üí 1, 1", "4, 4 ‚Üí 4, 4", "2, 4 ‚Üí 2, 4"],
                    correct: 0,
                    explanation: `The balanced equation is:
SiCl4 + 4H2O ‚Üí H4SiO4 + 4HCl

Therefore, the coefficients are: 1, 4 ‚Üí 1, 4`
                },
                {
                    id: 7,
                    question: "Calculate the mass of nitrogen in an 85.0-mg sample of the amino acid lysine, C6H14N2O2.",
                    options: ["16.29 mg", "28 mg", "0.32 mg", "0.18 mg", "15.8 mg"],
                    correct: 0,
                    explanation: `Step 1: Calculate the molar mass of lysine
Using atomic masses:
‚Ä¢ Carbon (C): 12.01 g/mol
‚Ä¢ Hydrogen (H): 1.008 g/mol
‚Ä¢ Nitrogen (N): 14.01 g/mol
‚Ä¢ Oxygen (O): 16.00 g/mol

Molar mass of lysine = (6√ó12.01) + (14√ó1.008) + (2√ó14.01) + (2√ó16.00)
= 72.06 + 14.112 + 28.02 + 32.00 = 146.192 g/mol

Step 2: Calculate the percentage of nitrogen in lysine
The total mass of nitrogen in lysine is:
Mass of nitrogen = 2√ó14.01 = 28.02 g

The percentage of nitrogen is:
%N = (Mass of nitrogen / Molar mass of lysine) √ó 100%
= (28.02 / 146.192) √ó 100 ‚âà 19.17%

Step 3: Calculate the mass of nitrogen in 85.0 mg of lysine
Mass of nitrogen = (%N / 100) √ó Mass of lysine
= (19.17 / 100) √ó 85.0 mg ‚âà 16.3 mg`
                },
                {
                    id: 8,
                    question: "Determine the molecular formula for a compound having the following analysis: 64.27% carbon, 7.19% hydrogen, and 28.54% oxygen; experimental molar mass 168.19.",
                    options: ["C9H12O3", "CH12O", "C2H6O3", "CHO", "CH2O"],
                    correct: 0,
                    explanation: `Step 1: Assume a 100 g sample
For a 100 g sample:
‚Ä¢ Carbon (C): 64.27 g
‚Ä¢ Hydrogen (H): 7.19 g
‚Ä¢ Oxygen (O): 28.54 g

Step 2: Convert mass to moles
Using the atomic masses (C: 12.01, H: 1.008, O: 16.00 g/mol)
‚Ä¢ Moles of C = 64.27/12.01 ‚âà 5.35 mol
‚Ä¢ Moles of H = 7.19/1.008 ‚âà 7.13 mol
‚Ä¢ Moles of O = 28.54/16.00 ‚âà 1.78 mol

Step 3: Determine the simplest mole ratio
Divide all by the smallest (1.78):
‚Ä¢ C: 5.35/1.78 ‚âà 3.01
‚Ä¢ H: 7.13/1.78 ‚âà 4.00
‚Ä¢ O: 1.78/1.78 = 1.00

The empirical formula is: C3H4O

Step 4: Calculate the molar mass of the empirical formula
Molar mass of C3H4O = (3√ó12.01) + (4√ó1.008) + (1√ó16.00)
= 40.03 + 4.032 + 16.00 = 60.06 g/mol

Step 5: Determine the molecular formula
The experimental molar mass is 168.19 g/mol.
Multiplier = 168.19 / 60.06 ‚âà 2.8 ‚âà 3

Step 6: Multiply the subscripts of the empirical formula
Molecular formula = C3√ó3 H4√ó3 O1√ó3 = C9H12O3`
                },
                {
                    id: 9,
                    question: "Hydrogen peroxide breaks down, releasing oxygen, in the following reaction: 2H2O2(aq) ‚Üí 2H2O(l) + O2(g). What mass of oxygen is produced when 1.840 mol of H2O2 decompose?",
                    options: ["29.44 g", "92.2 g", "14.72 g", "36.8 g", "58.88 g"],
                    correct: 0,
                    explanation: `Step 1: Write the balanced equation
2H2O2(aq) ‚Üí 2H2O(l) + O2(g)

The reaction shows that 2 moles of H2O2 produce 1 mole of O2

Step 2: Use stoichiometry to calculate moles of O2
From the balanced equation:
Moles of O2 = 1.840 mol H2O2 / 2 = 0.920 mol O2

Step 3: Calculate the mass of O2
The molar mass of O2 = 2√ó16.00 = 32.00 g/mol

Mass of O2 = Moles of O2 √ó Molar mass of O2
= 0.920 mol √ó 32.00 g/mol = 29.44 g`
                },
                {
                    id: 10,
                    question: "The following reaction shows the synthesis of zinc citrate: 3ZnCO3(s) + 2C6H8O7(aq) ‚Üí Zn3(C6H5O7)2(aq) + 3H2O(l) + 3CO2(g). How many moles of ZnCO3 are required to produce 30.0 mol of Zn3(C6H5O7)2?",
                    options: ["30 moles", "60 moles", "90 moles", "120 moles", "10 moles"],
                    correct: 2,
                    explanation: `Step 1: Analyze the reaction
The balanced chemical equation is:
3ZnCO3(s) + 2C6H8O7(aq) ‚Üí Zn3(C6H5O7)2(aq) + 3H2O(l) + 3CO2(g)

From the equation: 3 mol of ZnCO3 produce 1 mol of Zn3(C6H5O7)2

Step 2: Set up the mole ratio
Using the stoichiometric ratio:
Moles of ZnCO3 = Moles of Zn3(C6H5O7)2 √ó (3 mol ZnCO3 / 1 mol Zn3(C6H5O7)2)

Step 3: Substitute the given value
Moles of ZnCO3 = 30.0 mol √ó 3 = 90.0 mol

Therefore, 90.0 moles of ZnCO3 are required to produce 30.0 mol of Zn3(C6H5O7)2.`
                },
                {
                    id: 11,
                    question: "Nitrogen gas can react with hydrogen gas to form gaseous ammonia. If 4.7 g of nitrogen reacts with 9.8 g of hydrogen, how much ammonia is formed?",
                    options: ["5.5 g", "5.7 g", "16.7 g", "55.55 g", "19.6 g"],
                    correct: 1,
                    explanation: `Step 1: Write the balanced chemical equation
N2(g) + 3H2(g) ‚Üí 2NH3(g)

This shows that 1 mole of N2 reacts with 3 moles of H2 to produce 2 moles of NH3.

Step 2: Calculate the moles of N2 and H2
Molar masses: N2: 28.02 g/mol, H2: 2.016 g/mol

Moles of N2 = 4.7 g / 28.02 g/mol ‚âà 0.1677 mol
Moles of H2 = 9.8 g / 2.016 g/mol ‚âà 4.862 mol

Step 3: Determine the limiting reactant
From the stoichiometry: 1 mol of N2 reacts with 3 mol of H2
For 0.1677 mol of N2, required H2 = 0.1677 √ó 3 = 0.5031 mol

We have 4.862 mol of H2, which is much more than 0.5031 mol.
Therefore, N2 is the limiting reactant.

Step 4: Calculate the moles of NH3 produced
From the balanced equation: 1 mol of N2 produces 2 mol of NH3
0.1677 mol of N2 produces: 0.1677 √ó 2 = 0.3354 mol NH3

Step 5: Calculate the mass of NH3 produced
Molar mass of NH3 = 14.01 + (3√ó1.008) = 17.034 g/mol
Mass of NH3 = 0.3354 mol √ó 17.034 g/mol ‚âà 5.71 g`
                },
                {
                    id: 12,
                    question: "What is the percent yield of a reaction in which 201 g of solid phosphorus trichloride reacts with excess water to form 128 g of aqueous hydrogen chloride and aqueous phosphorous acid, H3PO3?",
                    options: ["80%", "98%", "90%", "65%", "87%"],
                    correct: 0,
                    explanation: `Step 1: Write the balanced chemical equation
The reaction between PCl3 and water forms HCl and H3PO3:
PCl3(s) + 3H2O(l) ‚Üí 3HCl(aq) + H3PO3(aq)

Step 2: Calculate the theoretical yield of hydrogen chloride
Molar masses: PCl3: 137.33 g/mol, HCl: 36.458 g/mol

Moles of PCl3 = 201 g / 137.33 g/mol ‚âà 1.464 mol

From the balanced equation, the stoichiometric ratio between PCl3 and HCl is 1:3.
Therefore, moles of HCl produced = 1.464 √ó 3 = 4.39 mol

Theoretical mass of HCl:
Mass of HCl = 4.39 mol √ó 36.458 g/mol ‚âà 160.12 g

Step 3: Calculate the percent yield
Percent yield = (Actual yield / Theoretical yield) √ó 100
= (128 g / 160.12 g) √ó 100 = 79.9% ‚âà 80%`
                },
                {
                    id: 13,
                    question: "How many grams of Fe are produced by reacting 2.00 kg Al with 300 g Fe2O3? Fe2O3 + 2Al ‚Üí Al2O3 + 2Fe",
                    options: ["600 g", "37 g", "74 g", "159.7 g", "209.9 g"],
                    correct: 4,
                    explanation: `Step 1: Write the balanced chemical equation
Fe2O3 + 2Al ‚Üí Al2O3 + 2Fe

This shows that 1 mole of Fe2O3 reacts with 2 moles of Al to produce 2 moles of Fe.

Step 2: Calculate the moles of Fe2O3 and Al
Molar masses: Fe2O3: 159.7 g/mol, Al: 26.98 g/mol

Moles of Fe2O3 = 300 g / 159.7 g/mol ‚âà 1.876 mol
Moles of Al = 2000 g / 26.98 g/mol ‚âà 74.1 mol

Step 3: Determine the limiting reactant
From the balanced equation, the stoichiometric ratio between Fe2O3 and Al is 1:2.

The reaction requires 2 moles of Al for every 1 mole of Fe2O3.
For 1.876 mol of Fe2O3, required Al = 1.876 √ó 2 = 3.752 mol

Since we have 74.1 mol of Al, which is more than enough, Fe2O3 is the limiting reactant.

Step 4: Calculate the moles of Fe
From the stoichiometry, 1 mole of Fe2O3 produces 2 moles of Fe:
Moles of Fe = 1.876 mol √ó 2 = 3.752 mol

Step 5: Calculate the mass of Fe
The molar mass of iron (Fe) is 55.85 g/mol:
Mass of Fe = 3.752 mol √ó 55.85 g/mol = 209.3 g`
                }
            ]
        };

        let currentQuestion = 0;
        let selectedAnswers = {};
        let showingResults = false;

        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            
            if (showingResults) {
                renderResults();
                return;
            }

            const question = quizData.questions[currentQuestion];
            const selectedAnswer = selectedAnswers[currentQuestion];

            container.innerHTML = `
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h2 class="text-xl font-bold text-gray-800">Question ${currentQuestion + 1} of ${quizData.questions.length}</h2>
                        <span class="bg-indigo-100 px-4 py-2 rounded-full text-indigo-800 font-semibold">
                            Answered: ${Object.keys(selectedAnswers).length}/${quizData.questions.length}
                        </span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3 mb-4">
                        <div class="bg-indigo-600 h-3 rounded-full transition-all duration-300" 
                            style="width: ${(Object.keys(selectedAnswers).length / quizData.questions.length) * 100}%">
                        </div>
                    </div>
                </div>

                <!-- Question Navigator -->
                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                    <h3 class="text-sm font-semibold text-gray-700 mb-3">Jump to Question:</h3>
                    <div class="flex flex-wrap gap-2">
                        ${quizData.questions.map((q, idx) => {
                            const isAnswered = selectedAnswers.hasOwnProperty(idx);
                            const isCurrent = idx === currentQuestion;
                            const isCorrect = isAnswered && selectedAnswers[idx] === quizData.questions[idx].correct;
                            
                            let btnClass = 'question-nav-btn px-3 py-2 rounded-lg font-semibold border-2 ';
                            if (isCurrent) {
                                btnClass += 'bg-indigo-600 text-white border-indigo-600';
                            } else if (isAnswered && isCorrect) {
                                btnClass += 'bg-green-100 text-green-800 border-green-300';
                            } else if (isAnswered) {
                                btnClass += 'bg-red-100 text-red-800 border-red-300';
                            } else {
                                btnClass += 'bg-white text-gray-700 border-gray-300 hover:border-indigo-400 cursor-pointer';
                            }
                            
                            return `
                                <button onclick="goToQuestion(${idx})" class="${btnClass}">
                                    ${idx + 1}
                                    ${isAnswered && isCorrect ? ' ‚úì' : ''}
                                    ${isAnswered && !isCorrect ? ' ‚úó' : ''}
                                </button>
                            `;
                        }).join('')}
                    </div>
                </div>

                <!-- Question Content -->
                <div class="bg-gray-50 rounded-lg p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-6 text-gray-800">${question.question}</h3>
                    <div class="space-y-3">
                        ${question.options.map((opt, idx) => {
                            let optClass = 'quiz-option w-full text-left p-4 rounded-lg border-2 ';
                            if (selectedAnswer === undefined) {
                                optClass += 'border-gray-300 bg-white hover:border-indigo-400 cursor-pointer';
                            } else if (idx === question.correct) {
                                optClass += 'border-green-500 bg-green-100';
                            } else if (idx === selectedAnswer) {
                                optClass += 'border-red-500 bg-red-100';
                            } else {
                                optClass += 'border-gray-300 bg-gray-100';
                            }
                            
                            return `
                                <button onclick="selectAnswer(${idx})" 
                                    class="${optClass}"
                                    ${selectedAnswer !== undefined ? 'disabled' : ''}>
                                    <span class="font-semibold">${String.fromCharCode(65 + idx)}.</span> ${opt}
                                    ${selectedAnswer !== undefined && idx === question.correct ? ' ‚úì' : ''}
                                    ${selectedAnswer === idx && idx !== question.correct ? ' ‚úó' : ''}
                                </button>
                            `;
                        }).join('')}
                    </div>
                </div>

                ${selectedAnswer !== undefined ? `
                    <div class="bg-${selectedAnswer === question.correct ? 'green' : 'red'}-50 border-2 border-${selectedAnswer === question.correct ? 'green' : 'red'}-200 rounded-lg p-6 mb-6">
                        <h4 class="font-bold text-lg mb-3 text-${selectedAnswer === question.correct ? 'green' : 'red'}-800">
                            ${selectedAnswer === question.correct ? '‚úì Correct!' : '‚úó Incorrect - The correct answer is ' + String.fromCharCode(65 + question.correct)}
                        </h4>
                        <div class="text-gray-800 whitespace-pre-line">${question.explanation}</div>
                    </div>
                ` : ''}

                <!-- Navigation Buttons -->
                <div class="flex gap-3 mb-4">
                    <button onclick="previousQuestion()" 
                        ${currentQuestion === 0 ? 'disabled' : ''}
                        class="flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors">
                        ‚Üê Previous
                    </button>
                    
                    ${Object.keys(selectedAnswers).length === quizData.questions.length ? `
                        <button onclick="viewResults()" 
                            class="flex-1 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                            View Results üìä
                        </button>
                    ` : ''}
                    
                    <button onclick="nextQuestion()" 
                        ${currentQuestion === quizData.questions.length - 1 ? 'disabled' : ''}
                        class="flex-1 bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors">
                        Next ‚Üí
                    </button>
                </div>

                <button onclick="resetQuiz()" 
                    class="w-full bg-gray-200 text-gray-700 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                    üîÑ Reset Quiz
                </button>
            `;
        }

        function renderResults() {
            let score = 0;
            quizData.questions.forEach((q, idx) => {
                if (selectedAnswers[idx] === q.correct) {
                    score++;
                }
            });

            const percentage = Math.round((score / quizData.questions.length) * 100);
            const container = document.getElementById('quizContainer');

            container.innerHTML = `
                <div class="text-center max-w-2xl mx-auto">
                    <div class="text-6xl mb-4">üéâ</div>
                    <h2 class="text-3xl font-bold mb-4 text-gray-800">Quiz Complete!</h2>
                    <div class="text-5xl font-bold text-indigo-600 mb-2">${percentage}%</div>
                    <p class="text-xl text-gray-600 mb-6">You scored ${score} out of ${quizData.questions.length}</p>
                    
                    <div class="bg-gray-50 rounded-lg p-6 mb-6">
                        <h3 class="font-semibold text-lg mb-4">Performance Breakdown</h3>
                        <div class="space-y-2 text-left">
                            ${quizData.questions.map((q, idx) => {
                                const isCorrect = selectedAnswers[idx] === q.correct;
                                return `
                                    <div class="flex items-center justify-between p-3 rounded ${isCorrect ? 'bg-green-50' : 'bg-red-50'}">
                                        <span class="font-medium">Question ${idx + 1}</span>
                                        <span class="font-semibold ${isCorrect ? 'text-green-700' : 'text-red-700'}">
                                            ${isCorrect ? '‚úì Correct' : '‚úó Incorrect'}
                                        </span>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>

                    <div class="space-y-3">
                        <button onclick="reviewAnswers()" 
                            class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                            üìñ Review Answers
                        </button>
                        <button onclick="resetQuiz()" 
                            class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors">
                            üîÑ Retake Quiz
                        </button>
                    </div>
                </div>
            `;
        }

        function selectAnswer(idx) {
            if (selectedAnswers[currentQuestion] !== undefined) return;
            selectedAnswers[currentQuestion] = idx;
            renderQuiz();
        }

        function goToQuestion(idx) {
            currentQuestion = idx;
            renderQuiz();
        }

        function nextQuestion() {
            if (currentQuestion < quizData.questions.length - 1) {
                currentQuestion++;
                renderQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuiz();
            }
        }

        function viewResults() {
            showingResults = true;
            renderQuiz();
        }

        function reviewAnswers() {
            showingResults = false;
            currentQuestion = 0;
            renderQuiz();
        }

        function resetQuiz() {
            currentQuestion = 0;
            selectedAnswers = {};
            showingResults = false;
            renderQuiz();
        }

        // Initialize quiz
        renderQuiz();